<!-- Main Navbar -->


<button class="btn btn-outline-primary me-3 sidebar-toggle" 
            (click)="toggleSidebar()"
            [attr.aria-expanded]="isSidebarOpen">
      <i class="bi" [class]="isSidebarOpen ? 'bi-x-lg' : 'bi-list'" style="font-size: 1.25rem;"></i>
    </button>

<!-- Sidebar Overlay -->
<div class="sidebar-overlay" 
     [class.show]="isSidebarOpen" 
     (click)="closeSidebar()"></div>

<!-- Advanced Sidebar -->
<div class="advanced-sidebar" 
     [class.show]="isSidebarOpen"
     [attr.aria-hidden]="!isSidebarOpen">
  
  <!-- Sidebar Header -->
  <div class="sidebar-header gradient-header">
    <div class="d-flex align-items-center">
      <div class="sidebar-logo me-3">
        <i class="bi bi-hexagon-fill text-white fs-3"></i>
      </div>
      <div>
        <h5 class="sidebar-title fw-bold text-white mb-0">
          Pointi Dashboard
        </h5>
        <small class="text-white-50">Admin Panel</small>
      </div>
    </div>
    <button type="button" 
            class="btn-close btn-close-white shadow-none" 
            (click)="closeSidebar()"
            aria-label="Close sidebar"></button>
  </div>

  <!-- User Profile Section -->
  <div class="user-profile-section">
    <div class="d-flex align-items-center p-3">
      <div class="user-avatar me-3">
       
            
           
      </div>
      <div class="flex-grow-1">
        <h6 class="mb-0 fw-semibold">{{ user.name }}</h6>
        <small class="text-muted">{{ user.role }}</small>
      </div>
      <div class="dropdown">
        <button class="btn btn-sm btn-outline-secondary rounded-circle" 
                data-bs-toggle="dropdown"
                aria-expanded="false">
          <i class="bi bi-three-dots-vertical"></i>
        </button>
        <ul class="dropdown-menu dropdown-menu-end">
          <li>
            <a class="dropdown-item"  (click)="onProfileClick()">
              <i class="bi bi-person me-2"></i>Profile
            </a>
          </li>
          <li>
            <a class="dropdown-item"  (click)="onSettingsClick()">
              <i class="bi bi-gear me-2"></i>Settings
            </a>
          </li>
          <li><hr class="dropdown-divider"></li>
          <li>
            <a class="dropdown-item text-danger" href="#" (click)="onLogout()">
              <i class="bi bi-box-arrow-right me-2"></i>Logout
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Sidebar Body -->
  <div class="sidebar-body">
    <!-- Search Bar -->
    <div class="search-section p-3">
      <div class="input-group">
        <span class="input-group-text bg-light border-end-0">
          <i class="bi bi-search text-muted"></i>
        </span>
        <input type="text" 
               class="form-control border-start-0 bg-light" 
               placeholder="Search menu..."
               [(ngModel)]="searchQuery"
               (input)="onSearchChange()">
        <button class="btn btn-outline-secondary" 
                type="button" 
                *ngIf="searchQuery"
                (click)="clearSearch()">
          <i class="bi bi-x"></i>
        </button>
      </div>
    </div>

    <!-- Navigation Menu -->
    <nav class="sidebar-nav">
      <div class="nav-section" *ngFor="let section of filteredSections">
        <h6 class="nav-section-title">{{ section.title }}</h6>
        <ul class="nav flex-column">
          <li class="nav-item" *ngFor="let item of section.items">
            <a [class]="getNavLinkClass(item)" 
                [routerLink]="item.route "
               >
              <i class="bi" [class]="item.icon"></i>
              <span>{{ item.label }}</span>
              <span *ngIf="item.badge" 
                    [class]="getBadgeClass(item.badgeColor)">
                {{ item.badge }}
              </span>
            </a>
          </li>
        </ul>
      </div>
      
      <!-- No results message -->
      <div *ngIf="filteredSections.length === 0 && searchQuery" 
           class="text-center p-4 text-muted">
        <i class="bi bi-search fs-2 mb-2 d-block"></i>
        <p>No menu items found for "{{ searchQuery }}"</p>
      </div>
    </nav>

    <!-- Upgrade Card -->
    

  <!-- Sidebar Footer -->
  <div class="sidebar-footer">
    <div class="d-flex align-items-center justify-content-between p-3 border-top">
      <div class="d-flex align-items-center">
        <i class="bi bi-moon-stars me-2 text-muted"></i>
        <span class="small text-muted">Dark Mode</span>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" 
               type="checkbox" 
               id="darkModeSwitch"
               [(ngModel)]="isDarkMode"
               (change)="toggleDarkMode()">
      </div>
    </div>
  </div>
</div>

<!-- Main Content -->
